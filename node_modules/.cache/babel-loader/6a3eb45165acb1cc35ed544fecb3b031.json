{"ast":null,"code":"import { key, baseUrl } from '../utils';\nimport history from \"../history\";\nexport const GET_MOVIE_PENDING = 'GET_MOVIE_PENDING';\nexport const GET_MOVIE_SUCCESS = 'GET_MOVIE_SUCCESS';\nexport const GET_MOVIE_ERROR = 'GET_MOVIE_ERROR';\n\nfunction getMoviePending() {\n  return {\n    type: GET_MOVIE_PENDING\n  };\n}\n\nfunction getMovieSuccess(movie) {\n  return {\n    type: GET_MOVIE_SUCCESS,\n    movie: movie\n  };\n}\n\nfunction getMovieError(error) {\n  return {\n    type: GET_MOVIE_ERROR,\n    error: error\n  };\n} // https://api.themoviedb.org/3/movie/11688?api_key=734c266a171652e992c46bc914cb2185&language=en-US\n\n\nexport function getMovie(id) {\n  return dispatch => {\n    dispatch(getMoviePending());\n    fetch(\"\".concat(baseUrl, \"/movie/\").concat(id, \"?api_key=\").concat(key, \"&language=en-US\")).then(res => res.json()).then(res => {\n      if (res.error) {\n        throw res.error;\n      }\n\n      dispatch(getMovieSuccess(res));\n      return res;\n    }).then(res => history.push('/')).catch(error => {\n      dispatch(getMovieError(error));\n    });\n  };\n}","map":{"version":3,"sources":["/home/nilufar/Desktop/movies/src/actions/getMovie.js"],"names":["key","baseUrl","history","GET_MOVIE_PENDING","GET_MOVIE_SUCCESS","GET_MOVIE_ERROR","getMoviePending","type","getMovieSuccess","movie","getMovieError","error","getMovie","id","dispatch","fetch","then","res","json","push","catch"],"mappings":"AAAA,SAASA,GAAT,EAAcC,OAAd,QAA6B,UAA7B;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,OAAO,MAAMC,iBAAiB,GAAG,mBAA1B;AACP,OAAO,MAAMC,iBAAiB,GAAG,mBAA1B;AACP,OAAO,MAAMC,eAAe,GAAG,iBAAxB;;AAEP,SAASC,eAAT,GAA2B;AACvB,SAAO;AACHC,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH;;AAED,SAASK,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,SAAO;AACHF,IAAAA,IAAI,EAAEH,iBADH;AAEHK,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH;;AAED,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,SAAO;AACHJ,IAAAA,IAAI,EAAEF,eADH;AAEHM,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH,C,CAED;;;AAEA,OAAO,SAASC,QAAT,CAAkBC,EAAlB,EAAsB;AACzB,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACR,eAAe,EAAhB,CAAR;AACAS,IAAAA,KAAK,WAAId,OAAJ,oBAAqBY,EAArB,sBAAmCb,GAAnC,qBAAL,CACKgB,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAACN,KAAR,EAAe;AACX,cAAOM,GAAG,CAACN,KAAX;AACH;;AACDG,MAAAA,QAAQ,CAACN,eAAe,CAACS,GAAD,CAAhB,CAAR;AACA,aAAOA,GAAP;AACH,KARL,EASKD,IATL,CASUC,GAAG,IAAIf,OAAO,CAACiB,IAAR,CAAa,GAAb,CATjB,EAUKC,KAVL,CAUWT,KAAK,IAAI;AACZG,MAAAA,QAAQ,CAACJ,aAAa,CAACC,KAAD,CAAd,CAAR;AACH,KAZL;AAaH,GAfD;AAgBH","sourcesContent":["import { key, baseUrl } from '../utils'\nimport history from \"../history\"\n\nexport const GET_MOVIE_PENDING = 'GET_MOVIE_PENDING';\nexport const GET_MOVIE_SUCCESS = 'GET_MOVIE_SUCCESS';\nexport const GET_MOVIE_ERROR = 'GET_MOVIE_ERROR';\n\nfunction getMoviePending() {\n    return {\n        type: GET_MOVIE_PENDING\n    }\n}\n\nfunction getMovieSuccess(movie) {\n    return {\n        type: GET_MOVIE_SUCCESS,\n        movie: movie\n    }\n}\n\nfunction getMovieError(error) {\n    return {\n        type: GET_MOVIE_ERROR,\n        error: error\n    }\n}\n\n// https://api.themoviedb.org/3/movie/11688?api_key=734c266a171652e992c46bc914cb2185&language=en-US\n\nexport function getMovie(id) {\n    return dispatch => {\n        dispatch(getMoviePending());\n        fetch(`${baseUrl}/movie/${id}?api_key=${key}&language=en-US`)\n            .then(res => res.json())\n            .then(res => {\n                if (res.error) {\n                    throw (res.error);\n                }\n                dispatch(getMovieSuccess(res));\n                return res;\n            })\n            .then(res => history.push('/'))\n            .catch(error => {\n                dispatch(getMovieError(error));\n            })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}